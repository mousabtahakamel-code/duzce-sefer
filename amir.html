<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hareket Amiri</title>
<style>
body{font-family:Arial;background:#eef;padding:20px}
.box{background:white;padding:20px;max-width:500px;margin:auto}
select,button{width:100%;padding:10px;margin-top:10px}
.time-btn{padding:6px;margin:3px}
.active{background:#2563eb;color:white}
</style>
</head>
<body>

<div class="box">
<h3>Hareket Amiri Paneli</h3>

<select id="hat">
  <option>1 - Üniversite Ring</option>
  <option>30 - Bahçeşehir Ring</option>
  <option>12 - Yeşiltepe - Otogar - Jandarma</option>
  <option>25 - Sarayyeri - Otogar</option>
  <option>26 - Akşemsettin - Otogar</option>
  <option>46 - Mamure - Otogar</option>
  <option>43 - Düzce Üniversitesi - Bahçeşehir</option>
</select>

<select id="yon">
  <option>Gidiş</option>
  <option>Dönüş</option>
</select>

<select id="arac">
  <option>Mavi Karsan Atak</option>
  <option>Kırmızı Karsan Atak</option>
  <option>TCV Karat</option>
  <option>MAN Lions City G</option>
  <option>Mercedes Benz Conecto 2024</option>
  <option>Otokar Sultan</option>
  <option>BMC Procity TR</option>
</select>

<select id="sofor">
  <option value="sofor">Şoför</option>
</select>

<h4>Saatler</h4>
<div id="saatler"></div>

<button onclick="ata()">Sefer Ata</button>
<button onclick="cikis()">Çıkış</button>
<p id="msg"></p>
</div>

<script>
const saatlerDiv=document.getElementById("saatler");
let secilen=[];

for(let h=5;h<24;h++){
  for(let m=0;m<60;m+=5){
    const s=`${String(h).padStart(2,"0")}:${String(m).padStart(2,"0")}`;
    const b=document.createElement("button");
    b.innerText=s;
    b.className="time-btn";
    b.onclick=()=>{
      if(secilen.includes(s)){
        secilen=secilen.filter(x=>x!==s);
        b.classList.remove("active");
      }else{
        secilen.push(s);
        b.classList.add("active");
      }
    }
    saatlerDiv.appendChild(b);
  }
}

function ata(){
  if(secilen.length===0){msg.innerText="Saat seç";return;}
  let seferler=JSON.parse(localStorage.getItem("seferler"));
  secilen.forEach(s=>{
    seferler.push({
      hat:hat.value,
      yon:yon.value,
      arac:arac.value,
      sofor:sofor.value,
      saat:s,
      durum:"Bekliyor"
    });
  });
  localStorage.setItem("seferler",JSON.stringify(seferler));
  msg.innerText="Seferler atandı";
  secilen=[];
  document.querySelectorAll(".active").forEach(x=>x.classList.remove("active"));
}

function cikis(){
  localStorage.removeItem("aktif");
  location.href="index.html";
}
</script>

</body>
</html>

