<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hareket Amiri Paneli</title>
<style>
body{font-family:Arial;padding:20px;background:#f0f0f0;}
h2{color:#1e40af;}
select,input,button{margin-top:8px;padding:8px;}
button{background:#2563eb;color:white;border:none;border-radius:5px;}
#seferler div{margin-top:5px;}
</style>
</head>
<body>

<script>
const aktif = JSON.parse(localStorage.getItem("aktifKullanici"));
if(!aktif || aktif.role !== "amiri"){ window.location.href="index.html"; }

let seferler=[];
</script>

<h2>Hareket Amiri Paneli</h2>

<label>Hat Seç:</label>
<select id="hat">
<option>1 - Üniversite Ring</option>
<option>30 - Bahçeşehir Ring</option>
<option>12 - Yeşiltepe - Otogar - Jandarma</option>
<option>25 - Sarayyeri - Otogar</option>
<option>26 - Akşemsettin - Otogar</option>
<option>46 - Mamure - Otogar</option>
<option>43 - Düzce Üniversitesi - Bahçeşehir</option>
</select><br>

<label>Araç Seç:</label>
<select id="arac">
<option>Mavi Karsan Atak</option>
<option>Kırmızı Karsan Atak</option>
<option>TCV Karat</option>
<option>MAN Lions City G</option>
<option>Mercedes Conecto 2024</option>
<option>Otokar Sultan</option>
<option>BMC Procity TR</option>
</select><br>

<label>Şoför Seç:</label>
<select id="sofor">
<option>Şoför 1</option>
<option>Şoför 2</option>
</select><br>

<button onclick="kaydet()">Sefer Kaydet</button>
<p id="msg" style="color:green"></p>
<div id="seferler"></div>

<button onclick="cikis()">Çıkış Yap</button>

<script>
function kaydet(){
  const hat = document.getElementById("hat").value;
  const arac = document.getElementById("arac").value;
  const sofor = document.getElementById("sofor").value;
  const saat = new Date().toLocaleTimeString();
  seferler.push({hat,arac,sofor,saat});
  listele();
  document.getElementById("msg").innerText="Sefer kaydedildi ✅";
}

function listele(){
  const div=document.getElementById("seferler");
  div.innerHTML="<h3>Seferler</h3>";
  seferler.forEach(s=>{
    div.innerHTML+=`<div>${s.hat} | ${s.arac} | ${s.sofor} | ${s.saat}</div>`;
  });
}

function cikis(){
  localStorage.removeItem("aktifKullanici");
  window.location.href="index.html";
}
</script>

</body>
</html>

