<!DOCTYPE html>
<html>
<head>
  <title>Owner</title>
</head>
<body>
<h2>Owner Paneli</h2>

<h3>Seferler</h3>
<div id="liste"></div>

<h3>Şifre Değiştir</h3>
<select id="userSelect"></select>
<input id="newPass" placeholder="Yeni şifre">
<button onclick="degistir()">Güncelle</button>
<p id="msg"></p>

<script>
const users = JSON.parse(localStorage.getItem("users")) || [];
const seferler = JSON.parse(localStorage.getItem("seferler")) || [];

seferler.forEach(s=>{
  liste.innerHTML+=`${s.hat} - ${s.arac} - ${s.sofor}<br>`;
});

users.forEach(u=>{
  userSelect.innerHTML+=`<option value="${u.user}">${u.name}</option>`;
});

function degistir(){
  const u = userSelect.value;
  const i = users.findIndex(x=>x.user===u);
  users[i].pass = newPass.value;
  localStorage.setItem("users",JSON.stringify(users));
  msg.innerText="Şifre değişti";
}
</script>
</body>
</html>
